/* Qwerty Hancock 0.4.5 (c) 2012-15 Stuart Memo */
window.mobilecheck = function() {
    var check = false;
    (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);
    return check;
};
!function(a,b){var c="0.4.5",d={},e=!1,f={},g={89:"Cl",83:"C#l",88:"Dl",68:"D#l",67:"El",86:"Fl",71:"F#l",66:"Gl",72:"G#l",78:"Al",74:"A#l",77:"Bl",188:"Cu",76:"C#u",190:"Du",186:"D#u",162:"D#u",173:"Eu",189:"Eu",81:"Fu",50:"F#u",87:"Gu",51:"G#u",69:"Au",52:"A#u",82:"Bu",84:"Co",54:"C#o",90:"Do",55:"D#o",85:"Eo",73:"Fo",57:"F#o",79:"Go",48:"G#o",80:"Ao",187:"A#o",61:"A#o",219:"Bo",191:"Bo"},h=function(a){return Math.floor((d.width-a)/a)},i=function(a){var b;user_settings=a||{},d={id:user_settings.id||"keyboard",octaves:user_settings.octaves||3,width:user_settings.width,height:user_settings.height,startNote:user_settings.startNote||"A3",whiteKeyColour:user_settings.whiteKeyColour||"#fff",blackKeyColour:user_settings.blackKeyColour||"#000",activeColour:user_settings.activeColour||"yellow",borderColour:user_settings.borderColour||"#000",keyboardLayout:user_settings.keyboardLayout||"en"},b=document.getElementById(d.id),"undefined"==typeof d.width&&(d.width=b.offsetWidth),"undefined"==typeof d.height&&(d.height=b.offsetHeight),d.startOctave=parseInt(d.startNote.charAt(1),10),A(),E.call(this,b)},j=function(a){var b,c,d=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"];return c=a.charAt(3===a.length?2:1),b=d.indexOf(a.slice(0,-1)),b=3>b?b+12+12*(c-1)+1:b+12*(c-1)+1,440*Math.pow(2,(b-49)/12)},k=function(a){(null!==a||typeof a===b)&&(a.style.backgroundColor=d.activeColour)},l=function(a){null!==a&&("white"===a.getAttribute("data-note-type")?a.style.backgroundColor=d.whiteKeyColour:a.style.backgroundColor=d.blackKeyColour)},m=function(a){var b,c=0,e=a.length,f=[];for(b=0;e>b;b++)if(d.startNote.charAt(0)===a[b]){c=b;break}for(b=0;e>b;b++)b+c>e-1?f[b]=a[b+c-e]:f[b]=a[b+c];return f},n=function(a){a.el.style.backgroundColor=d.whiteKeyColour,a.el.style.border="1px solid "+d.borderColour,a.el.style.borderRight=0,a.el.style.height=d.height+"px",a.el.style.width=a.width+"px",a.el.style.borderRadius="0 0 5px 5px",a.noteNumber===w()-1&&(a.el.style.border="1px solid "+d.borderColour)},o=function(a){var b=h(w()),c=Math.floor(b/2);a.el.style.backgroundColor=d.blackKeyColour,a.el.style.border="1px solid "+d.borderColour,a.el.style.position="absolute",a.el.style.left=Math.floor((b+1)*(a.noteNumber+1)-c/2)+"px",a.el.style.width=c+"px",a.el.style.height=d.height/1.5+"px",a.el.style.borderRadius="0 0 3px 3px"},p=function(a){a.el.style.display="inline-block",a.el.style["-webkit-user-select"]="none","white"===a.colour?n(a):o(a)},q=function(a){var b=function(a){a.style.cursor="default",a.style.fontSize="10px",a.style.height=d.height+"px",a.style.padding=0,a.style.position="relative",a.style.listStyle="none",a.style.margin=0,a.style.width=d.width+"px",a.style["-webkit-user-select"]="none"};b(a.container),b(a.el)},r=function(a,b){"li"==a.tagName.toLowerCase()&&(e=!0,k(a),b(a.title,j(a.title)))},s=function(a,b){"li"==a.tagName.toLowerCase()&&(e=!1,l(a),b(a.title,j(a.title)))},t=function(a,b){e&&(k(a),b(a.title,j(a.title)))},u=function(a,b){e&&(l(a),b(a.title,j(a.title)))},v=function(a){return a.el=document.createElement("li"),a.el.id=a.id,a.el.title=a.id,a.el.setAttribute("data-note-type",a.colour),p(a),a},w=function(){return 7*d.octaves},x=function(){var a,b,c=this,e=[],f=0,g=d.startOctave,i=w();for(a=0;i>a;a++)a%this.whiteNotes.length===0&&(f=0),bizarre_note_counter=this.whiteNotes[f],"C"===bizarre_note_counter&&0!==a&&g++,b=v({colour:"white",octave:g,width:h(i),id:this.whiteNotes[f]+g,noteNumber:a}),e.push(b.el),a!==i-1&&this.notesWithSharps.forEach(function(d,j){d===c.whiteNotes[f]&&(b=v({colour:"black",octave:g,width:h(i)/2,id:c.whiteNotes[f]+"#"+g,noteNumber:a}),e.push(b.el))}),f++;return e},y=function(a){a.keys.forEach(function(b){a.el.appendChild(b)})},z=function(a){d.keyPressOffset="C"===a[0]?0:1},A=function(){var a={container:document.getElementById(d.id),el:document.createElement("ul"),whiteNotes:m(["C","D","E","F","G","A","B"]),notesWithSharps:m(["C","D","F","G","A"])};return a.keys=x.call(a),z(a.whiteNotes),q(a),y(a),a.container.appendChild(a.el),a},B=function(a){return g[a].replace("l",parseInt(d.startOctave,10)+d.keyPressOffset).replace("u",(parseInt(d.startOctave,10)+d.keyPressOffset+1).toString()).replace("o",(parseInt(d.startOctave,10)+d.keyPressOffset+2).toString())},C=function(a,b){var c;a.keyCode in f||(f[a.keyCode]=!0,"undefined"!=typeof g[a.keyCode]&&(c=B(a.keyCode),b(c,j(c)),k(document.getElementById(c))))},D=function(a,b){var c;delete f[a.keyCode],"undefined"!=typeof g[a.keyCode]&&(c=B(a.keyCode),b(c,j(c)),l(document.getElementById(c)))},
    E=function(b){
    var c=this;
    if(mobilecheck()) {


        "ontouchstart" in document.documentElement && (
            b.addEventListener("touchstart", function (a) {
                r(a.target, c.keyDown)
            }),
                b.addEventListener("touchend", function (a) {
                    s(a.target, c.keyUp)
                }),
                b.addEventListener("touchleave", function (a) {
                    u(a.target, c.keyUp)
                }),
                b.addEventListener("touchcancel", function (a) {
                    u(a.target, c.keyUp)
                }))
    }
    else
    {

        a.addEventListener("keydown",function(a){
            C(a,c.keyDown)}),
            a.addEventListener("keyup",function(a){
                D(a,c.keyUp)}),
            b.addEventListener("mousedown",function(a){
                r(a.target,c.keyDown)}),
            b.addEventListener("mouseup",function(a){
                s(a.target,c.keyUp)}),
            b.addEventListener("mouseover",function(a){
                t(a.target,c.keyDown)}),
            b.addEventListener("mouseout",function(a){
                u(a.target,c.keyUp)}),
        "ontouchstart" in document.documentElement && (
            b.addEventListener("touchstart", function (a) {
                r(a.target, c.keyDown)
            }),
                b.addEventListener("touchend", function (a) {
                    s(a.target, c.keyUp)
                }),
                b.addEventListener("touchleave", function (a) {
                    u(a.target, c.keyUp)
                }),
                b.addEventListener("touchcancel", function (a) {
                    u(a.target, c.keyUp)
                }))
    }
    },

    F=function(a){
    this.version=c,
        this.keyDown=function(){},
        this.keyUp=function(){},
        i.call(this,a)};
a.QwertyHancock=F}(window);